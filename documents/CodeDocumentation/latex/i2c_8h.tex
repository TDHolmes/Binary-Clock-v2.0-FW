\hypertarget{i2c_8h}{}\section{firmware/i2c.h File Reference}
\label{i2c_8h}\index{firmware/i2c.\+h@{firmware/i2c.\+h}}
{\ttfamily \#include \char`\"{}hardware.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}global\+\_\+defines.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{i2c_8h_a95874a2ad9cbdd150afd1efb6d1f7e67}{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+AD}~1
\item 
\#define \hyperlink{i2c_8h_a944c5427602948ab1da98661a2a5c7e3}{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+W\+R\+I\+TE}~0
\item 
\#define \hyperlink{i2c_8h_a7a625a27cd09ae70aefbb08680c7236a}{I2\+C\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+C\+O\+U\+NT}~3
\item 
\#define \hyperlink{i2c_8h_a6f6489887e08bff4887d0bc5dcf214d8}{A\+CK}~0
\item 
\#define \hyperlink{i2c_8h_a958518a45b12053ae33606ee7cb68a55}{N\+A\+CK}~1
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c_8h_a179335d191b4a62f55f6534fd3706964}{i2c\+\_\+init} (void)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c_8h_a0be5140cb205508b6eca8e8d3bd2042e}{i2c\+\_\+write\+\_\+byte} (uint8\+\_\+t chip\+\_\+addr, uint8\+\_\+t reg\+\_\+addr, uint8\+\_\+t data)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c_8h_a31a726b3ac4b29d6422b303b3e8e89b4}{i2c\+\_\+write} (uint8\+\_\+t chip\+\_\+addr, uint8\+\_\+t start\+\_\+adr, uint8\+\_\+t $\ast$data\+\_\+to\+\_\+write\+\_\+ptr, uint8\+\_\+t data\+\_\+len)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c_8h_a1b26df225ca26b8849684b99868a7d9c}{i2c\+\_\+read\+\_\+byte} (uint8\+\_\+t chip\+\_\+addr, uint8\+\_\+t start\+\_\+adr, uint8\+\_\+t $\ast$data\+\_\+out\+\_\+ptr)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c_8h_a0e9eaa90696291daa732848da63beef8}{i2c\+\_\+read} (uint8\+\_\+t chip\+\_\+addr, uint8\+\_\+t start\+\_\+adr, uint8\+\_\+t $\ast$data\+\_\+out\+\_\+ptr, uint8\+\_\+t data\+\_\+len)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{i2c_8h_a6f6489887e08bff4887d0bc5dcf214d8}{}\label{i2c_8h_a6f6489887e08bff4887d0bc5dcf214d8} 
\index{i2c.\+h@{i2c.\+h}!A\+CK@{A\+CK}}
\index{A\+CK@{A\+CK}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{A\+CK}{ACK}}
{\footnotesize\ttfamily \#define A\+CK~0}

\hypertarget{i2c_8h_a95874a2ad9cbdd150afd1efb6d1f7e67}{}\label{i2c_8h_a95874a2ad9cbdd150afd1efb6d1f7e67} 
\index{i2c.\+h@{i2c.\+h}!I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+AD@{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+AD}}
\index{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+AD@{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+AD}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+AD}{I2C\_MODE\_READ}}
{\footnotesize\ttfamily \#define I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+AD~1}

\hypertarget{i2c_8h_a944c5427602948ab1da98661a2a5c7e3}{}\label{i2c_8h_a944c5427602948ab1da98661a2a5c7e3} 
\index{i2c.\+h@{i2c.\+h}!I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+W\+R\+I\+TE@{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+W\+R\+I\+TE}}
\index{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+W\+R\+I\+TE@{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+W\+R\+I\+TE}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+W\+R\+I\+TE}{I2C\_MODE\_WRITE}}
{\footnotesize\ttfamily \#define I2\+C\+\_\+\+M\+O\+D\+E\+\_\+\+W\+R\+I\+TE~0}

\hypertarget{i2c_8h_a7a625a27cd09ae70aefbb08680c7236a}{}\label{i2c_8h_a7a625a27cd09ae70aefbb08680c7236a} 
\index{i2c.\+h@{i2c.\+h}!I2\+C\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+C\+O\+U\+NT@{I2\+C\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+C\+O\+U\+NT}}
\index{I2\+C\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+C\+O\+U\+NT@{I2\+C\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+C\+O\+U\+NT}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{I2\+C\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+C\+O\+U\+NT}{I2C\_RETRY\_COUNT}}
{\footnotesize\ttfamily \#define I2\+C\+\_\+\+R\+E\+T\+R\+Y\+\_\+\+C\+O\+U\+NT~3}

\hypertarget{i2c_8h_a958518a45b12053ae33606ee7cb68a55}{}\label{i2c_8h_a958518a45b12053ae33606ee7cb68a55} 
\index{i2c.\+h@{i2c.\+h}!N\+A\+CK@{N\+A\+CK}}
\index{N\+A\+CK@{N\+A\+CK}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{N\+A\+CK}{NACK}}
{\footnotesize\ttfamily \#define N\+A\+CK~1}



\subsection{Function Documentation}
\hypertarget{i2c_8h_a179335d191b4a62f55f6534fd3706964}{}\label{i2c_8h_a179335d191b4a62f55f6534fd3706964} 
\index{i2c.\+h@{i2c.\+h}!i2c\+\_\+init@{i2c\+\_\+init}}
\index{i2c\+\_\+init@{i2c\+\_\+init}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+init()}{i2c\_init()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initializes the I2C driver.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns the initialization status of the I2C driver. \\
\hline
\end{DoxyParams}
\hypertarget{i2c_8h_a0e9eaa90696291daa732848da63beef8}{}\label{i2c_8h_a0e9eaa90696291daa732848da63beef8} 
\index{i2c.\+h@{i2c.\+h}!i2c\+\_\+read@{i2c\+\_\+read}}
\index{i2c\+\_\+read@{i2c\+\_\+read}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+read()}{i2c\_read()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+read (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{chip\+\_\+addr,  }\item[{uint8\+\_\+t}]{start\+\_\+adr,  }\item[{uint8\+\_\+t $\ast$}]{data\+\_\+out\+\_\+ptr,  }\item[{uint8\+\_\+t}]{data\+\_\+len }\end{DoxyParamCaption})}

Reads N bytes from a chip. Handles starting and stopping of communication.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em chip\+\_\+addr} & (uint8\+\_\+t)\+: The address of the chip to be read from. \\
\hline
\mbox{\tt in}  & {\em start\+\_\+adr} & (uint8\+\_\+t)\+: The starting register of the read. \\
\hline
\mbox{\tt in}  & {\em data\+\_\+out\+\_\+ptr} & (uint8\+\_\+t $\ast$)\+: Location to store the read values. \\
\hline
\mbox{\tt in}  & {\em data\+\_\+len} & (uint8\+\_\+t)\+: amount of bytes to read. \\
\hline
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns the success or failure of starting communication \& reading the byte. \\
\hline
\end{DoxyParams}
\hypertarget{i2c_8h_a1b26df225ca26b8849684b99868a7d9c}{}\label{i2c_8h_a1b26df225ca26b8849684b99868a7d9c} 
\index{i2c.\+h@{i2c.\+h}!i2c\+\_\+read\+\_\+byte@{i2c\+\_\+read\+\_\+byte}}
\index{i2c\+\_\+read\+\_\+byte@{i2c\+\_\+read\+\_\+byte}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+read\+\_\+byte()}{i2c\_read\_byte()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+read\+\_\+byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{chip\+\_\+addr,  }\item[{uint8\+\_\+t}]{start\+\_\+adr,  }\item[{uint8\+\_\+t $\ast$}]{data\+\_\+out\+\_\+ptr }\end{DoxyParamCaption})}

Reads a byte from a chip. Handles starting and stopping of communication.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em chip\+\_\+addr} & (uint8\+\_\+t)\+: The address of the chip to be read from. \\
\hline
\mbox{\tt in}  & {\em start\+\_\+adr} & (uint8\+\_\+t)\+: The starting register of the read. \\
\hline
\mbox{\tt in}  & {\em data\+\_\+out\+\_\+ptr} & (uint8\+\_\+t $\ast$)\+: Location to store the read value. \\
\hline
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns the success or failure of starting communication \& reading the byte. \\
\hline
\end{DoxyParams}
\hypertarget{i2c_8h_a31a726b3ac4b29d6422b303b3e8e89b4}{}\label{i2c_8h_a31a726b3ac4b29d6422b303b3e8e89b4} 
\index{i2c.\+h@{i2c.\+h}!i2c\+\_\+write@{i2c\+\_\+write}}
\index{i2c\+\_\+write@{i2c\+\_\+write}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+write()}{i2c\_write()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+write (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{chip\+\_\+addr,  }\item[{uint8\+\_\+t}]{start\+\_\+adr,  }\item[{uint8\+\_\+t $\ast$}]{data\+\_\+to\+\_\+write\+\_\+ptr,  }\item[{uint8\+\_\+t}]{data\+\_\+len }\end{DoxyParamCaption})}

Starts communication with a chip and writes N bytes to the chip. Handles starting and ending communication as well.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em chip\+\_\+addr} & (uint8\+\_\+t)\+: The address of the chip to be written to. \\
\hline
\mbox{\tt in}  & {\em start\+\_\+adr} & (uint8\+\_\+t)\+: The starting register of the write. \\
\hline
\mbox{\tt in}  & {\em data\+\_\+to\+\_\+write\+\_\+ptr} & (uint8\+\_\+t $\ast$)\+: The data to be written array. \\
\hline
\mbox{\tt in}  & {\em data\+\_\+len} & (uint8\+\_\+t)\+: How many bytes to be written. \\
\hline
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns the success or failure of starting communication and writing to the device. \\
\hline
\end{DoxyParams}
\hypertarget{i2c_8h_a0be5140cb205508b6eca8e8d3bd2042e}{}\label{i2c_8h_a0be5140cb205508b6eca8e8d3bd2042e} 
\index{i2c.\+h@{i2c.\+h}!i2c\+\_\+write\+\_\+byte@{i2c\+\_\+write\+\_\+byte}}
\index{i2c\+\_\+write\+\_\+byte@{i2c\+\_\+write\+\_\+byte}!i2c.\+h@{i2c.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+write\+\_\+byte()}{i2c\_write\_byte()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+write\+\_\+byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{chip\+\_\+addr,  }\item[{uint8\+\_\+t}]{reg\+\_\+addr,  }\item[{uint8\+\_\+t}]{data }\end{DoxyParamCaption})}

Writes a byte to a chip. Handles starting and stopping of communication.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em chip\+\_\+addr} & (uint8\+\_\+t)\+: The chip\textquotesingle{}s address without the read/write bit set. \\
\hline
\mbox{\tt in}  & {\em reg\+\_\+addr} & (uint8\+\_\+t)\+: Address of the register you want to write to. \\
\hline
\mbox{\tt in}  & {\em data} & (uint8\+\_\+t)\+: Data you want to write. \\
\hline
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns the success or failure of starting communication \& sending the byte. \\
\hline
\end{DoxyParams}
