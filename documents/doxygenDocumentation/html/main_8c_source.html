<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Binary Clock: firmware/main.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Binary Clock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d9edf6c004b4a7ff14fe9ae7a92214ee.html">firmware</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">main.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="main_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Name: main.c</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Author: &lt;insert your name here&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright: &lt;insert your copyright message here&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * License: &lt;insert your license reference here&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;avr/io.h&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timer__4313_8h.html">timer_4313.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_r_t_c___d_s3231_8h.html">RTC_DS3231.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_l_e_d_8h.html">LED.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_u_a_r_t_8h.html">UART.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="i2c_8h.html">i2c.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hardware_8h.html">hardware.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ports_8h.html">ports.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="global__defines_8h.html">global_defines.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="main_8c.html#ad3fcfed0b340c80205d17572a9d1f5c8">   20</a></span>&#160;<span class="preprocessor">#define NO_FORCE_UPDATE 0  </span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="main_8c.html#a986b9ffaa07e690ab7d2731405337319">   21</a></span>&#160;<span class="preprocessor">#define FORCE_UPDATE    1  </span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="main_8c.html#a73c52f3e083ffd8acde0b01f74de7a5a">   23</a></span>&#160;<span class="preprocessor">#define COMMAND_LENGTH 6   </span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">   27</a></span>&#160;    <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">RUN_TIME</a>,   </div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">   28</a></span>&#160;    <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a>  </div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;} <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248">state_t</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">   31</a></span>&#160;<a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248">state_t</a> <a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> = <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">RUN_TIME</a>;   </div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="main_8c.html#ac7e20580a719e05c4636488e9be3f416">   32</a></span>&#160;uint8_t <a class="code" href="main_8c.html#ac7e20580a719e05c4636488e9be3f416">uart_command_received</a> = 0; </div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="main_8c.html#a5cfb334a7bf0f4b5c337f27520190abe">   33</a></span>&#160;uint8_t <a class="code" href="main_8c.html#a5cfb334a7bf0f4b5c337f27520190abe">timer_expired</a> = 0;         </div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="main_8c.html#a6e5ffe07d12493f339d4be9454ef2a2b">   34</a></span>&#160;uint8_t <a class="code" href="main_8c.html#a6e5ffe07d12493f339d4be9454ef2a2b">LED_multiplex_timer_count</a> = 0;   </div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="main_8c.html#a7b552a5dffd6c6e5ff11caac286ba3de">   35</a></span>&#160;uint8_t <a class="code" href="main_8c.html#a7b552a5dffd6c6e5ff11caac286ba3de">command_buffer</a>[<a class="code" href="main_8c.html#a73c52f3e083ffd8acde0b01f74de7a5a">COMMAND_LENGTH</a>];  </div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// private function declarations</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> process_UART_command(<a class="code" href="structrtc__time__t.html">rtc_time_t</a> *time_ptr, uint8_t *cmd_buffer);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> increment_time(<a class="code" href="structrtc__time__t.html">rtc_time_t</a> *rtc_time_ptr, uint8_t inc_ammount);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">   57</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">volatile</span> uint8_t multiplexer_count;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">volatile</span> uint8_t rtc_1hz_int_count;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    uint8_t time_diff;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    uint8_t time_updated = <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a">FALSE</a>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    uint8_t start_byte_received = <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a">FALSE</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="global__defines_8h.html#a7a53c0a65d763442224ca36299adee75">retval_t</a> retval = <a class="code" href="global__defines_8h.html#a7a53c0a65d763442224ca36299adee75a1003a34258c2440cdff61baf04b12b94">GEN_FAIL</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="structrtc__time__t.html">rtc_time_t</a> time;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="structrtc__time__t.html">rtc_time_t</a> *t_ptr = &amp;time;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    t_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8459fc4e94de7eefc74991e41779c8fc">second</a> = 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    t_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8ff981ec55c945940f4a0da7d8709b3c">minute</a> = 1;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    t_ptr-&gt;<a class="code" href="structrtc__time__t.html#ae5af4ff48939d13d480f87e56a9385d6">hour</a> = 2;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="hardware_8c.html#adbc33da75acaccd09e014cd36193cea4">hardware_init</a>();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="_l_e_d_8c.html#a50cf228fce8563fc202330b7b4816cb9">LED_init</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="_l_e_d_8c.html#a03b912786effb26b1a9ebcfc222c1a12">LED_set_color</a>(1, 1, 1);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="timer__4313_8c.html#a1e462ddd3000b56cfe8e0864a0bd23c6">timer_init</a>(&amp;multiplexer_count);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="_u_a_r_t_8c.html#a821ba6a21f4896a9a815940bfcf5d45c">UART_init</a>((uint32_t)250000);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="i2c_8c.html#a179335d191b4a62f55f6534fd3706964">i2c_init</a>();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="_r_t_c___d_s3231_8c.html#a08e02f54bb9f3dffa4c4852eab51ac49">RTC_init</a>(t_ptr, &amp;rtc_1hz_int_count);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">while</span>(1) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="comment">// check if we have UART data to handle</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="_u_a_r_t_8c.html#a18b6dfda0347576121145e7becc02551">UART_receive_unread_items</a>() &gt;= <a class="code" href="main_8c.html#a73c52f3e083ffd8acde0b01f74de7a5a">COMMAND_LENGTH</a>) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="comment">// check if we haven&#39;t received a start byte yet</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">if</span> (start_byte_received == <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a">FALSE</a>) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="comment">// check for the start byte</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="keywordflow">do</span> {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <a class="code" href="_u_a_r_t_8c.html#adfbd65b23d278104fe4581479add9892">UART_receive_byte</a>(<a class="code" href="main_8c.html#a7b552a5dffd6c6e5ff11caac286ba3de">command_buffer</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="main_8c.html#a7b552a5dffd6c6e5ff11caac286ba3de">command_buffer</a>[0] == <a class="code" href="_u_a_r_t_8h.html#ac6bb946b4f7eafdefad8df6850cf4c83">UART_CMD_START_BYTE</a>) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                        start_byte_received = <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                } <span class="keywordflow">while</span>(<a class="code" href="_u_a_r_t_8c.html#a18b6dfda0347576121145e7becc02551">UART_receive_unread_items</a>() &gt;= 1);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                <span class="comment">// We&#39;ve received the start byte. Handle the command (if enough data)</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="_u_a_r_t_8c.html#a18b6dfda0347576121145e7becc02551">UART_receive_unread_items</a>() &gt;= <a class="code" href="main_8c.html#a73c52f3e083ffd8acde0b01f74de7a5a">COMMAND_LENGTH</a>) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    <span class="comment">// get the data</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    <a class="code" href="_u_a_r_t_8c.html#af7904ba62c8456c9bcd5f6b84adcb262">UART_receive</a>(<a class="code" href="main_8c.html#a7b552a5dffd6c6e5ff11caac286ba3de">command_buffer</a>, <a class="code" href="main_8c.html#a73c52f3e083ffd8acde0b01f74de7a5a">COMMAND_LENGTH</a>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    <span class="comment">// procress the received command</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    process_UART_command(t_ptr, <a class="code" href="main_8c.html#a7b552a5dffd6c6e5ff11caac286ba3de">command_buffer</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    start_byte_received = <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a">FALSE</a>;  <span class="comment">// reset start byte</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="comment">// run the system</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">switch</span>(<a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a>) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">RUN_TIME</a>: {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">if</span> (rtc_1hz_int_count != 0) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    time_diff = rtc_1hz_int_count;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    rtc_1hz_int_count = 0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    increment_time(t_ptr, time_diff);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <a class="code" href="_l_e_d_8c.html#a895aa35945c973a001ae1f69547f7526">LED_update_time</a>(t_ptr, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="keywordflow">if</span> (multiplexer_count != 0) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    multiplexer_count = 0;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <a class="code" href="_l_e_d_8c.html#a209d85c0dae3797b5e83c81a23152647">LED_run</a>();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="comment">// every day, re-check with RTC to update time. Will try for a minute if unsuccessful</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="keywordflow">if</span> (t_ptr-&gt;<a class="code" href="structrtc__time__t.html#ae5af4ff48939d13d480f87e56a9385d6">hour</a> == 3 &amp;&amp; t_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8ff981ec55c945940f4a0da7d8709b3c">minute</a> == 0 &amp;&amp; time_updated == <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a">FALSE</a>) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    retval = <a class="code" href="_r_t_c___d_s3231_8c.html#a2bff9ac64b6abc57feab2a567e4942f1">RTC_read_time</a>(t_ptr);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    <span class="keywordflow">if</span> (retval == <a class="code" href="global__defines_8h.html#a7a53c0a65d763442224ca36299adee75a1da64dacf0ce85988ba671248f9e42eb">GEN_PASS</a>) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        time_updated = <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t_ptr-&gt;<a class="code" href="structrtc__time__t.html#ae5af4ff48939d13d480f87e56a9385d6">hour</a> == 3 &amp;&amp; t_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8ff981ec55c945940f4a0da7d8709b3c">minute</a> == 1) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <span class="comment">// reset it for tomorrow</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    time_updated = <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a">FALSE</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a>: {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="comment">// let UART commands update the LEDs, but continue to refresh them</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">if</span> (multiplexer_count &gt;= 1) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    multiplexer_count = 0;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    <a class="code" href="_l_e_d_8c.html#a209d85c0dae3797b5e83c81a23152647">LED_run</a>();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="comment">// but keep track of the time still</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">if</span> (rtc_1hz_int_count &gt;= 1) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    time_diff = rtc_1hz_int_count;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    rtc_1hz_int_count = 0;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    increment_time(t_ptr, time_diff);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">default</span>: {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keywordtype">void</span> process_UART_command(<a class="code" href="structrtc__time__t.html">rtc_time_t</a> *time_ptr, uint8_t *cmd_buffer)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">switch</span>(cmd_buffer[0]) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_u_a_r_t_8h.html#a579aaa216295501d2d838a7dca0ac50d">UART_CMD_SET_LED</a>: {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> != <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a>) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a9da7d8506e116aa0d4550f48540b2793">UART_CMD_WRONG_STATE</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="comment">// bytes 1 &amp; 2 is row &amp; column, bytes 3, 4, &amp; 5 is red, green, and blue vals</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="_l_e_d_8c.html#acf1c91fdc341bab74818ef2b68f56a71">LED_set</a>(cmd_buffer[1], cmd_buffer[2], cmd_buffer[3], cmd_buffer[4], cmd_buffer[5]);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_u_a_r_t_8h.html#afb7ed61915098fa2b202b2adfacbeef1">UART_CMD_CLEAR_LED</a>: {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> != <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a>) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a9da7d8506e116aa0d4550f48540b2793">UART_CMD_WRONG_STATE</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="comment">// bytes 1 &amp; 2 is row &amp; column</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <a class="code" href="_l_e_d_8c.html#a4787cb4562b37ffc2fad08f55da989a1">LED_clear</a>(cmd_buffer[1], cmd_buffer[2]);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_u_a_r_t_8h.html#a9e558713de08fc5a1bb813317ee11dfa">UART_CMD_CLEAR_ALL_LED</a>: {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> != <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a9da7d8506e116aa0d4550f48540b2793">UART_CMD_WRONG_STATE</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="comment">// clear all LEDs</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="_l_e_d_8c.html#a0490a1834f071acbfe64bee0ae584a18">LED_clear_all</a>();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_u_a_r_t_8h.html#aa2c599c7dd49c232c81c21f6a4ab499d">UART_CMD_SET_ALL_LED</a>: {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> != <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a>) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a9da7d8506e116aa0d4550f48540b2793">UART_CMD_WRONG_STATE</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="comment">// Bytes 1, 2, and 3 is red, green and blue values</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <a class="code" href="_l_e_d_8c.html#a40249eaaaf8ca06760fc72d4bb4d1115">LED_set_all</a>(cmd_buffer[1], cmd_buffer[2], cmd_buffer[3]);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_u_a_r_t_8h.html#ad592e3dde157e9c00fd16147b65fbe80">UART_CMD_SET_TIME</a>: {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> != <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">RUN_TIME</a>) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a9da7d8506e116aa0d4550f48540b2793">UART_CMD_WRONG_STATE</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="comment">// Byte 1: Hour, Byte 2: Min, Byte 3: sec</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <a class="code" href="_r_t_c___d_s3231_8c.html#a33efe978755de7c3bea5ec1f68c3c0ee">RTC_set_time</a>(time_ptr, cmd_buffer[1], cmd_buffer[2], cmd_buffer[3]);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_u_a_r_t_8h.html#af5b62223e4ca028add9471d549eb5d2f">UART_CMD_SET_COLOR</a>: {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> != <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">RUN_TIME</a>) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a9da7d8506e116aa0d4550f48540b2793">UART_CMD_WRONG_STATE</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="comment">// Byte 1: Red, Byte 2: Green, Byte 3: Blue</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <a class="code" href="_l_e_d_8c.html#a03b912786effb26b1a9ebcfc222c1a12">LED_set_color</a>(cmd_buffer[1], cmd_buffer[2], cmd_buffer[3]);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_u_a_r_t_8h.html#a8725d27d4078f14a086b505ab5637c56">UART_CMD_CHANGE_STATE</a>: {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">if</span> (cmd_buffer[1] == 0) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> = <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">RUN_TIME</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <a class="code" href="_l_e_d_8c.html#a895aa35945c973a001ae1f69547f7526">LED_update_time</a>(time_ptr, <a class="code" href="main_8c.html#a986b9ffaa07e690ab7d2731405337319">FORCE_UPDATE</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd_buffer[1] == 1) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <a class="code" href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a> = <a class="code" href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">default</span>: {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a>(<a class="code" href="_u_a_r_t_8h.html#a66a99ddb7c9743c3d787fb42953c1947">UART_CMD_INVALID</a>, <a class="code" href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keywordtype">void</span> increment_time(<a class="code" href="structrtc__time__t.html">rtc_time_t</a> *rtc_time_ptr, uint8_t inc_ammount)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8459fc4e94de7eefc74991e41779c8fc">second</a> += inc_ammount;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8459fc4e94de7eefc74991e41779c8fc">second</a> &gt;= 60) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8459fc4e94de7eefc74991e41779c8fc">second</a> -= 60;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8ff981ec55c945940f4a0da7d8709b3c">minute</a> += 1;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span> (rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8ff981ec55c945940f4a0da7d8709b3c">minute</a> &gt;= 60) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#a8ff981ec55c945940f4a0da7d8709b3c">minute</a> -= 60;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#ae5af4ff48939d13d480f87e56a9385d6">hour</a> += 1;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">if</span> (rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#ae5af4ff48939d13d480f87e56a9385d6">hour</a> &gt;= 24) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                rtc_time_ptr-&gt;<a class="code" href="structrtc__time__t.html#ae5af4ff48939d13d480f87e56a9385d6">hour</a> -= 24;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="ttc" id="hardware_8c_html_adbc33da75acaccd09e014cd36193cea4"><div class="ttname"><a href="hardware_8c.html#adbc33da75acaccd09e014cd36193cea4">hardware_init</a></div><div class="ttdeci">retval_t hardware_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="hardware_8c_source.html#l00011">hardware.c:11</a></div></div>
<div class="ttc" id="_r_t_c___d_s3231_8c_html_a08e02f54bb9f3dffa4c4852eab51ac49"><div class="ttname"><a href="_r_t_c___d_s3231_8c.html#a08e02f54bb9f3dffa4c4852eab51ac49">RTC_init</a></div><div class="ttdeci">retval_t RTC_init(rtc_time_t *t_ptr, volatile uint8_t *RTC_int_cnt_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="_r_t_c___d_s3231_8c_source.html#l00022">RTC_DS3231.c:22</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_a579aaa216295501d2d838a7dca0ac50d"><div class="ttname"><a href="_u_a_r_t_8h.html#a579aaa216295501d2d838a7dca0ac50d">UART_CMD_SET_LED</a></div><div class="ttdeci">#define UART_CMD_SET_LED</div><div class="ttdoc">command to set an LED to a certain color (must be in manual control mode) </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00019">UART.h:19</a></div></div>
<div class="ttc" id="global__defines_8h_html_a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839"><div class="ttname"><a href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa82764c3079aea4e60c80e45befbb839">TRUE</a></div><div class="ttdoc">True boolian value. </div><div class="ttdef"><b>Definition:</b> <a href="global__defines_8h_source.html#l00029">global_defines.h:29</a></div></div>
<div class="ttc" id="main_8c_html_aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405"><div class="ttname"><a href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a3a35b5637ac389462359c30abbfbf405">RUN_TIME</a></div><div class="ttdoc">Runs time display mode. LEDs controlled by the current time. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00027">main.c:27</a></div></div>
<div class="ttc" id="main_8c_html_a5cfb334a7bf0f4b5c337f27520190abe"><div class="ttname"><a href="main_8c.html#a5cfb334a7bf0f4b5c337f27520190abe">timer_expired</a></div><div class="ttdeci">uint8_t timer_expired</div><div class="ttdoc">15-20ish ms timer timeout flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00033">main.c:33</a></div></div>
<div class="ttc" id="global__defines_8h_html_a7a53c0a65d763442224ca36299adee75a1da64dacf0ce85988ba671248f9e42eb"><div class="ttname"><a href="global__defines_8h.html#a7a53c0a65d763442224ca36299adee75a1da64dacf0ce85988ba671248f9e42eb">GEN_PASS</a></div><div class="ttdoc">Value to return if everything went well. </div><div class="ttdef"><b>Definition:</b> <a href="global__defines_8h_source.html#l00007">global_defines.h:7</a></div></div>
<div class="ttc" id="main_8c_html_a6e5ffe07d12493f339d4be9454ef2a2b"><div class="ttname"><a href="main_8c.html#a6e5ffe07d12493f339d4be9454ef2a2b">LED_multiplex_timer_count</a></div><div class="ttdeci">uint8_t LED_multiplex_timer_count</div><div class="ttdoc">count of mutiplex handler timer events. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00034">main.c:34</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_a03b912786effb26b1a9ebcfc222c1a12"><div class="ttname"><a href="_l_e_d_8c.html#a03b912786effb26b1a9ebcfc222c1a12">LED_set_color</a></div><div class="ttdeci">void LED_set_color(uint8_t red, uint8_t blue, uint8_t green)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00196">LED.c:196</a></div></div>
<div class="ttc" id="main_8c_html_ac7e20580a719e05c4636488e9be3f416"><div class="ttname"><a href="main_8c.html#ac7e20580a719e05c4636488e9be3f416">uart_command_received</a></div><div class="ttdeci">uint8_t uart_command_received</div><div class="ttdoc">valid command received flag. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00032">main.c:32</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_acf1c91fdc341bab74818ef2b68f56a71"><div class="ttname"><a href="_l_e_d_8c.html#acf1c91fdc341bab74818ef2b68f56a71">LED_set</a></div><div class="ttdeci">void LED_set(uint8_t row, uint8_t col, uint8_t red, uint8_t green, uint8_t blue)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00146">LED.c:146</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_a9e558713de08fc5a1bb813317ee11dfa"><div class="ttname"><a href="_u_a_r_t_8h.html#a9e558713de08fc5a1bb813317ee11dfa">UART_CMD_CLEAR_ALL_LED</a></div><div class="ttdeci">#define UART_CMD_CLEAR_ALL_LED</div><div class="ttdoc">command to clear an led (must be in manual control mode) </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00023">UART.h:23</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_a895aa35945c973a001ae1f69547f7526"><div class="ttname"><a href="_l_e_d_8c.html#a895aa35945c973a001ae1f69547f7526">LED_update_time</a></div><div class="ttdeci">void LED_update_time(rtc_time_t *t_ptr, uint8_t update_all)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00032">LED.c:32</a></div></div>
<div class="ttc" id="timer__4313_8c_html_a1e462ddd3000b56cfe8e0864a0bd23c6"><div class="ttname"><a href="timer__4313_8c.html#a1e462ddd3000b56cfe8e0864a0bd23c6">timer_init</a></div><div class="ttdeci">void timer_init(volatile uint8_t *counter_var_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="timer__4313_8c_source.html#l00029">timer_4313.c:29</a></div></div>
<div class="ttc" id="_l_e_d_8h_html"><div class="ttname"><a href="_l_e_d_8h.html">LED.h</a></div></div>
<div class="ttc" id="global__defines_8h_html_a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a"><div class="ttname"><a href="global__defines_8h.html#a04dd5074964518403bf944f2b240a5f8aa1e095cc966dbecf6a0d8aad75348d1a">FALSE</a></div><div class="ttdoc">False boolian value. </div><div class="ttdef"><b>Definition:</b> <a href="global__defines_8h_source.html#l00028">global_defines.h:28</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_a40249eaaaf8ca06760fc72d4bb4d1115"><div class="ttname"><a href="_l_e_d_8c.html#a40249eaaaf8ca06760fc72d4bb4d1115">LED_set_all</a></div><div class="ttdeci">void LED_set_all(uint8_t red, uint8_t blue, uint8_t green)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00176">LED.c:176</a></div></div>
<div class="ttc" id="main_8c_html_aa0aafed44fec19806d8f9ad834be1248"><div class="ttname"><a href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248">state_t</a></div><div class="ttdeci">state_t</div><div class="ttdoc">Current state of the clock. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00026">main.c:26</a></div></div>
<div class="ttc" id="_r_t_c___d_s3231_8h_html"><div class="ttname"><a href="_r_t_c___d_s3231_8h.html">RTC_DS3231.h</a></div></div>
<div class="ttc" id="_u_a_r_t_8c_html_a18b6dfda0347576121145e7becc02551"><div class="ttname"><a href="_u_a_r_t_8c.html#a18b6dfda0347576121145e7becc02551">UART_receive_unread_items</a></div><div class="ttdeci">uint8_t UART_receive_unread_items(void)</div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8c_source.html#l00159">UART.c:159</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_ad592e3dde157e9c00fd16147b65fbe80"><div class="ttname"><a href="_u_a_r_t_8h.html#ad592e3dde157e9c00fd16147b65fbe80">UART_CMD_SET_TIME</a></div><div class="ttdeci">#define UART_CMD_SET_TIME</div><div class="ttdoc">command to set all leds to a certain color (must be in manual control mode) </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00027">UART.h:27</a></div></div>
<div class="ttc" id="main_8c_html_a7b552a5dffd6c6e5ff11caac286ba3de"><div class="ttname"><a href="main_8c.html#a7b552a5dffd6c6e5ff11caac286ba3de">command_buffer</a></div><div class="ttdeci">uint8_t command_buffer[COMMAND_LENGTH]</div><div class="ttdoc">where UART commands are buffered. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00035">main.c:35</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_aa2c599c7dd49c232c81c21f6a4ab499d"><div class="ttname"><a href="_u_a_r_t_8h.html#aa2c599c7dd49c232c81c21f6a4ab499d">UART_CMD_SET_ALL_LED</a></div><div class="ttdeci">#define UART_CMD_SET_ALL_LED</div><div class="ttdoc">command to clear all leds (must be in manual control mode) </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00025">UART.h:25</a></div></div>
<div class="ttc" id="_r_t_c___d_s3231_8c_html_a33efe978755de7c3bea5ec1f68c3c0ee"><div class="ttname"><a href="_r_t_c___d_s3231_8c.html#a33efe978755de7c3bea5ec1f68c3c0ee">RTC_set_time</a></div><div class="ttdeci">retval_t RTC_set_time(rtc_time_t *t_ptr, uint8_t hour, uint8_t minute, uint8_t second)</div><div class="ttdef"><b>Definition:</b> <a href="_r_t_c___d_s3231_8c_source.html#l00054">RTC_DS3231.c:54</a></div></div>
<div class="ttc" id="hardware_8h_html"><div class="ttname"><a href="hardware_8h.html">hardware.h</a></div></div>
<div class="ttc" id="main_8c_html_a986b9ffaa07e690ab7d2731405337319"><div class="ttname"><a href="main_8c.html#a986b9ffaa07e690ab7d2731405337319">FORCE_UPDATE</a></div><div class="ttdeci">#define FORCE_UPDATE</div><div class="ttdoc">Update all LED array columns. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00021">main.c:21</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_ac6bb946b4f7eafdefad8df6850cf4c83"><div class="ttname"><a href="_u_a_r_t_8h.html#ac6bb946b4f7eafdefad8df6850cf4c83">UART_CMD_START_BYTE</a></div><div class="ttdeci">#define UART_CMD_START_BYTE</div><div class="ttdoc">byte that starts each transaction </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00016">UART.h:16</a></div></div>
<div class="ttc" id="main_8c_html_a73c52f3e083ffd8acde0b01f74de7a5a"><div class="ttname"><a href="main_8c.html#a73c52f3e083ffd8acde0b01f74de7a5a">COMMAND_LENGTH</a></div><div class="ttdeci">#define COMMAND_LENGTH</div><div class="ttdoc">number of bytes in a valid UART command. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00023">main.c:23</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_a8725d27d4078f14a086b505ab5637c56"><div class="ttname"><a href="_u_a_r_t_8h.html#a8725d27d4078f14a086b505ab5637c56">UART_CMD_CHANGE_STATE</a></div><div class="ttdeci">#define UART_CMD_CHANGE_STATE</div><div class="ttdoc">command to set the color during time mode (must be in time control mode) </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00031">UART.h:31</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_a209d85c0dae3797b5e83c81a23152647"><div class="ttname"><a href="_l_e_d_8c.html#a209d85c0dae3797b5e83c81a23152647">LED_run</a></div><div class="ttdeci">void LED_run(void)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00117">LED.c:117</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html"><div class="ttname"><a href="_u_a_r_t_8h.html">UART.h</a></div></div>
<div class="ttc" id="structrtc__time__t_html_a8ff981ec55c945940f4a0da7d8709b3c"><div class="ttname"><a href="structrtc__time__t.html#a8ff981ec55c945940f4a0da7d8709b3c">rtc_time_t::minute</a></div><div class="ttdeci">uint8_t minute</div><div class="ttdef"><b>Definition:</b> <a href="_r_t_c___d_s3231_8h_source.html#l00011">RTC_DS3231.h:11</a></div></div>
<div class="ttc" id="_u_a_r_t_8c_html_a24bb26011d768b44f3a13bf603a001dd"><div class="ttname"><a href="_u_a_r_t_8c.html#a24bb26011d768b44f3a13bf603a001dd">UART_transmit_byte</a></div><div class="ttdeci">void UART_transmit_byte(uint8_t data_to_tx, bool_t blocking)</div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8c_source.html#l00042">UART.c:42</a></div></div>
<div class="ttc" id="timer__4313_8h_html"><div class="ttname"><a href="timer__4313_8h.html">timer_4313.h</a></div></div>
<div class="ttc" id="structrtc__time__t_html_ae5af4ff48939d13d480f87e56a9385d6"><div class="ttname"><a href="structrtc__time__t.html#ae5af4ff48939d13d480f87e56a9385d6">rtc_time_t::hour</a></div><div class="ttdeci">uint8_t hour</div><div class="ttdef"><b>Definition:</b> <a href="_r_t_c___d_s3231_8h_source.html#l00012">RTC_DS3231.h:12</a></div></div>
<div class="ttc" id="structrtc__time__t_html_a8459fc4e94de7eefc74991e41779c8fc"><div class="ttname"><a href="structrtc__time__t.html#a8459fc4e94de7eefc74991e41779c8fc">rtc_time_t::second</a></div><div class="ttdeci">uint8_t second</div><div class="ttdef"><b>Definition:</b> <a href="_r_t_c___d_s3231_8h_source.html#l00010">RTC_DS3231.h:10</a></div></div>
<div class="ttc" id="color_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_a66a99ddb7c9743c3d787fb42953c1947"><div class="ttname"><a href="_u_a_r_t_8h.html#a66a99ddb7c9743c3d787fb42953c1947">UART_CMD_INVALID</a></div><div class="ttdeci">#define UART_CMD_INVALID</div><div class="ttdoc">code if the UART command received is invalid </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00009">UART.h:9</a></div></div>
<div class="ttc" id="ports_8h_html"><div class="ttname"><a href="ports_8h.html">ports.h</a></div></div>
<div class="ttc" id="global__defines_8h_html_a7a53c0a65d763442224ca36299adee75a1003a34258c2440cdff61baf04b12b94"><div class="ttname"><a href="global__defines_8h.html#a7a53c0a65d763442224ca36299adee75a1003a34258c2440cdff61baf04b12b94">GEN_FAIL</a></div><div class="ttdoc">General failure message. </div><div class="ttdef"><b>Definition:</b> <a href="global__defines_8h_source.html#l00008">global_defines.h:8</a></div></div>
<div class="ttc" id="main_8c_html_aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa"><div class="ttname"><a href="main_8c.html#aa0aafed44fec19806d8f9ad834be1248a0db6a15af5dfe805b3670bd7b0cc79aa">RUN_MANUAL</a></div><div class="ttdoc">Runs manual display mode. LEDs controlled by UART commands. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00028">main.c:28</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_a50cf228fce8563fc202330b7b4816cb9"><div class="ttname"><a href="_l_e_d_8c.html#a50cf228fce8563fc202330b7b4816cb9">LED_init</a></div><div class="ttdeci">void LED_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00016">LED.c:16</a></div></div>
<div class="ttc" id="_u_a_r_t_8c_html_adfbd65b23d278104fe4581479add9892"><div class="ttname"><a href="_u_a_r_t_8c.html#adfbd65b23d278104fe4581479add9892">UART_receive_byte</a></div><div class="ttdeci">retval_t UART_receive_byte(uint8_t *data_to_rx_ptr, bool_t blocking)</div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8c_source.html#l00143">UART.c:143</a></div></div>
<div class="ttc" id="structrtc__time__t_html"><div class="ttname"><a href="structrtc__time__t.html">rtc_time_t</a></div><div class="ttdoc">data structure to keep track of the time </div><div class="ttdef"><b>Definition:</b> <a href="_r_t_c___d_s3231_8h_source.html#l00009">RTC_DS3231.h:9</a></div></div>
<div class="ttc" id="i2c_8c_html_a179335d191b4a62f55f6534fd3706964"><div class="ttname"><a href="i2c_8c.html#a179335d191b4a62f55f6534fd3706964">i2c_init</a></div><div class="ttdeci">retval_t i2c_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="i2c_8c_source.html#l00020">i2c.c:20</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_a9da7d8506e116aa0d4550f48540b2793"><div class="ttname"><a href="_u_a_r_t_8h.html#a9da7d8506e116aa0d4550f48540b2793">UART_CMD_WRONG_STATE</a></div><div class="ttdeci">#define UART_CMD_WRONG_STATE</div><div class="ttdoc">code to send if the state is incorrect for the given command </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00011">UART.h:11</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_a4787cb4562b37ffc2fad08f55da989a1"><div class="ttname"><a href="_l_e_d_8c.html#a4787cb4562b37ffc2fad08f55da989a1">LED_clear</a></div><div class="ttdeci">void LED_clear(uint8_t row, uint8_t col)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00129">LED.c:129</a></div></div>
<div class="ttc" id="global__defines_8h_html"><div class="ttname"><a href="global__defines_8h.html">global_defines.h</a></div></div>
<div class="ttc" id="_u_a_r_t_8c_html_af7904ba62c8456c9bcd5f6b84adcb262"><div class="ttname"><a href="_u_a_r_t_8c.html#af7904ba62c8456c9bcd5f6b84adcb262">UART_receive</a></div><div class="ttdeci">void UART_receive(uint8_t *receive_buffer_ptr, uint8_t len)</div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8c_source.html#l00121">UART.c:121</a></div></div>
<div class="ttc" id="_l_e_d_8c_html_a0490a1834f071acbfe64bee0ae584a18"><div class="ttname"><a href="_l_e_d_8c.html#a0490a1834f071acbfe64bee0ae584a18">LED_clear_all</a></div><div class="ttdeci">void LED_clear_all(void)</div><div class="ttdef"><b>Definition:</b> <a href="_l_e_d_8c_source.html#l00156">LED.c:156</a></div></div>
<div class="ttc" id="_r_t_c___d_s3231_8c_html_a2bff9ac64b6abc57feab2a567e4942f1"><div class="ttname"><a href="_r_t_c___d_s3231_8c.html#a2bff9ac64b6abc57feab2a567e4942f1">RTC_read_time</a></div><div class="ttdeci">retval_t RTC_read_time(rtc_time_t *t_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="_r_t_c___d_s3231_8c_source.html#l00080">RTC_DS3231.c:80</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_a103dda730c91b3865dc9b21dc7cf50b3"><div class="ttname"><a href="_u_a_r_t_8h.html#a103dda730c91b3865dc9b21dc7cf50b3">UART_CMD_VALID</a></div><div class="ttdeci">#define UART_CMD_VALID</div><div class="ttdoc">valid command &amp; successful </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00013">UART.h:13</a></div></div>
<div class="ttc" id="global__defines_8h_html_a7a53c0a65d763442224ca36299adee75"><div class="ttname"><a href="global__defines_8h.html#a7a53c0a65d763442224ca36299adee75">retval_t</a></div><div class="ttdeci">retval_t</div><div class="ttdoc">definition of the types of return values possible </div><div class="ttdef"><b>Definition:</b> <a href="global__defines_8h_source.html#l00006">global_defines.h:6</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_afb7ed61915098fa2b202b2adfacbeef1"><div class="ttname"><a href="_u_a_r_t_8h.html#afb7ed61915098fa2b202b2adfacbeef1">UART_CMD_CLEAR_LED</a></div><div class="ttdeci">#define UART_CMD_CLEAR_LED</div><div class="ttdoc">command to set an LED to a certain color (must be in manual control mode) </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00021">UART.h:21</a></div></div>
<div class="ttc" id="main_8c_html_a840291bc02cba5474a4cb46a9b9566fe"><div class="ttname"><a href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a></div><div class="ttdeci">int main(void)</div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00057">main.c:57</a></div></div>
<div class="ttc" id="_u_a_r_t_8h_html_af5b62223e4ca028add9471d549eb5d2f"><div class="ttname"><a href="_u_a_r_t_8h.html#af5b62223e4ca028add9471d549eb5d2f">UART_CMD_SET_COLOR</a></div><div class="ttdeci">#define UART_CMD_SET_COLOR</div><div class="ttdoc">command to set the time (must be in time control mode) </div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8h_source.html#l00029">UART.h:29</a></div></div>
<div class="ttc" id="_u_a_r_t_8c_html_a821ba6a21f4896a9a815940bfcf5d45c"><div class="ttname"><a href="_u_a_r_t_8c.html#a821ba6a21f4896a9a815940bfcf5d45c">UART_init</a></div><div class="ttdeci">void UART_init(uint32_t baudrate)</div><div class="ttdef"><b>Definition:</b> <a href="_u_a_r_t_8c_source.html#l00012">UART.c:12</a></div></div>
<div class="ttc" id="i2c_8h_html"><div class="ttname"><a href="i2c_8h.html">i2c.h</a></div></div>
<div class="ttc" id="main_8c_html_ab7ca1d7f6e3e0aa50018c99ecface556"><div class="ttname"><a href="main_8c.html#ab7ca1d7f6e3e0aa50018c99ecface556">system_state</a></div><div class="ttdeci">state_t system_state</div><div class="ttdoc">keeps track of the system state. </div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00031">main.c:31</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
