\hypertarget{i2c__drvr__4313_8h}{}\section{firmware/i2c\+\_\+drvr\+\_\+4313.h File Reference}
\label{i2c__drvr__4313_8h}\index{firmware/i2c\+\_\+drvr\+\_\+4313.\+h@{firmware/i2c\+\_\+drvr\+\_\+4313.\+h}}


Low level I2C definitions for the A\+Ttiny4313.  


{\ttfamily \#include \char`\"{}global\+\_\+defines.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{i2c__drvr__4313_8h_a1b9318e5b12236cf6074035c34109235}{}\label{i2c__drvr__4313_8h_a1b9318e5b12236cf6074035c34109235} 
\#define \hyperlink{i2c__drvr__4313_8h_a1b9318e5b12236cf6074035c34109235}{I2\+C\+\_\+\+S\+T\+A\+R\+T\+\_\+\+R\+E\+T\+RY}~5
\begin{DoxyCompactList}\small\item\em defines how many times we should retry to start communication \end{DoxyCompactList}\item 
\hypertarget{i2c__drvr__4313_8h_aa04dbf6dafeebb013d586e0d315c4d66}{}\label{i2c__drvr__4313_8h_aa04dbf6dafeebb013d586e0d315c4d66} 
\#define \hyperlink{i2c__drvr__4313_8h_aa04dbf6dafeebb013d586e0d315c4d66}{I2\+C\+\_\+\+B\+I\+T\+B\+A\+NG}
\begin{DoxyCompactList}\small\item\em Don\textquotesingle{}t use I2C hardware modules, but rather manual port manipulation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c__drvr__4313_8h_a101a68aabf28d38af890de93f1d2be11}{i2c\+\_\+drvr\+\_\+init} (void)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c__drvr__4313_8h_a2b3c7d9d1c0c4dfb71106e7fb9869602}{i2c\+\_\+drvr\+\_\+start} (uint8\+\_\+t byte\+\_\+to\+\_\+tx)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c__drvr__4313_8h_a6263cbd58a2fb736ab058b532ddd242a}{i2c\+\_\+drvr\+\_\+end} (void)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c__drvr__4313_8h_a0e0c3a56da7932139693b97dd5a2d1d7}{i2c\+\_\+drvr\+\_\+write\+\_\+byte} (uint8\+\_\+t byte\+\_\+to\+\_\+tx)
\item 
\hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} \hyperlink{i2c__drvr__4313_8h_ab112d7a8b14604697d8e3549e891476a}{i2c\+\_\+drvr\+\_\+read\+\_\+byte} (uint8\+\_\+t $\ast$byte\+\_\+read\+\_\+ptr, uint8\+\_\+t ack)
\item 
\hypertarget{i2c__drvr__4313_8h_a893743cc983f49c186937c253b8a50e9}{}\label{i2c__drvr__4313_8h_a893743cc983f49c186937c253b8a50e9} 
void {\bfseries toggle\+\_\+scl} (void)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Low level I2C definitions for the A\+Ttiny4313. 



\subsection{Function Documentation}
\hypertarget{i2c__drvr__4313_8h_a6263cbd58a2fb736ab058b532ddd242a}{}\label{i2c__drvr__4313_8h_a6263cbd58a2fb736ab058b532ddd242a} 
\index{i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}!i2c\+\_\+drvr\+\_\+end@{i2c\+\_\+drvr\+\_\+end}}
\index{i2c\+\_\+drvr\+\_\+end@{i2c\+\_\+drvr\+\_\+end}!i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+drvr\+\_\+end()}{i2c\_drvr\_end()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+drvr\+\_\+end (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Creates an end condition and returns if it was successful.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns if the end condition worked. \\
\hline
\end{DoxyParams}
\hypertarget{i2c__drvr__4313_8h_a101a68aabf28d38af890de93f1d2be11}{}\label{i2c__drvr__4313_8h_a101a68aabf28d38af890de93f1d2be11} 
\index{i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}!i2c\+\_\+drvr\+\_\+init@{i2c\+\_\+drvr\+\_\+init}}
\index{i2c\+\_\+drvr\+\_\+init@{i2c\+\_\+drvr\+\_\+init}!i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+drvr\+\_\+init()}{i2c\_drvr\_init()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+drvr\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initializes the I2C lines.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns if the initialization worked. \\
\hline
\end{DoxyParams}
\hypertarget{i2c__drvr__4313_8h_ab112d7a8b14604697d8e3549e891476a}{}\label{i2c__drvr__4313_8h_ab112d7a8b14604697d8e3549e891476a} 
\index{i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}!i2c\+\_\+drvr\+\_\+read\+\_\+byte@{i2c\+\_\+drvr\+\_\+read\+\_\+byte}}
\index{i2c\+\_\+drvr\+\_\+read\+\_\+byte@{i2c\+\_\+drvr\+\_\+read\+\_\+byte}!i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+drvr\+\_\+read\+\_\+byte()}{i2c\_drvr\_read\_byte()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+drvr\+\_\+read\+\_\+byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{byte\+\_\+read\+\_\+ptr,  }\item[{uint8\+\_\+t}]{ack }\end{DoxyParamCaption})}

Reads a byte of information to from the I2C line.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em byte\+\_\+read\+\_\+ptr} & (uint8\+\_\+t $\ast$)\+: Location to return the read back value. \\
\hline
\mbox{\tt in}  & {\em ack} & (uint8\+\_\+t)\+: Whether or not to acknowledge the byte. \\
\hline
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns if the read was successful. \\
\hline
\end{DoxyParams}
\hypertarget{i2c__drvr__4313_8h_a2b3c7d9d1c0c4dfb71106e7fb9869602}{}\label{i2c__drvr__4313_8h_a2b3c7d9d1c0c4dfb71106e7fb9869602} 
\index{i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}!i2c\+\_\+drvr\+\_\+start@{i2c\+\_\+drvr\+\_\+start}}
\index{i2c\+\_\+drvr\+\_\+start@{i2c\+\_\+drvr\+\_\+start}!i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+drvr\+\_\+start()}{i2c\_drvr\_start()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+drvr\+\_\+start (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{addr\+\_\+with\+\_\+mode }\end{DoxyParamCaption})}

Creates a start condition, addresses the chip and returns if it was successful.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em addr\+\_\+with\+\_\+mode} & (uint8\+\_\+t)\+: Address of the chip with mode set. \\
\hline
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns if the start condition worked. \\
\hline
\end{DoxyParams}
\hypertarget{i2c__drvr__4313_8h_a0e0c3a56da7932139693b97dd5a2d1d7}{}\label{i2c__drvr__4313_8h_a0e0c3a56da7932139693b97dd5a2d1d7} 
\index{i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}!i2c\+\_\+drvr\+\_\+write\+\_\+byte@{i2c\+\_\+drvr\+\_\+write\+\_\+byte}}
\index{i2c\+\_\+drvr\+\_\+write\+\_\+byte@{i2c\+\_\+drvr\+\_\+write\+\_\+byte}!i2c\+\_\+drvr\+\_\+4313.\+h@{i2c\+\_\+drvr\+\_\+4313.\+h}}
\subsubsection{\texorpdfstring{i2c\+\_\+drvr\+\_\+write\+\_\+byte()}{i2c\_drvr\_write\_byte()}}
{\footnotesize\ttfamily \hyperlink{global__defines_8h_a7a53c0a65d763442224ca36299adee75}{retval\+\_\+t} i2c\+\_\+drvr\+\_\+write\+\_\+byte (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{byte\+\_\+to\+\_\+tx }\end{DoxyParamCaption})}

Writes a byte of information to the I2C line.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em byte\+\_\+to\+\_\+tx} & (uint8\+\_\+t)\+: Byte to transmit. \\
\hline
\mbox{\tt out}  & {\em retval} & (retval\+\_\+t)\+: Returns if the byte write was acknowledged. \\
\hline
\end{DoxyParams}
